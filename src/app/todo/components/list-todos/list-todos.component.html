<div class="container">
  <h1 *ngIf="!existUserId">TODOs</h1>
  <h1 *ngIf="existUserId">TODOs de {{user?.name}}</h1>
  <mat-form-field appearance="fill">
    <mat-label>Filtrar por</mat-label>
    <mat-select [(ngModel)]="optionSelected">
      <mat-option *ngFor="let filter of filters" [value]="filter.value" (click)="changeFilter()">
        {{filter.viewValue}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field class="form-field" *ngIf="showIdInputFilter">
    <mat-label>Ingrese el ID</mat-label>
    <input matInput type="number" [(ngModel)]="idInputFilterValue" (input)="changeFilter()">
    <button mat-button *ngIf="idInputFilterValue" matSuffix mat-icon-button aria-label="Clear" (click)="idInputFilterValue=''">
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>

  <mat-selection-list #todo [(ngModel)]="selectedOptions" *ngIf="optionSelected != 'userId'">
    <mat-list-option 
      *ngFor="let todo of todos" 
      [value]="todo" 
      (click)="setTodoBooleanOffline(todo)"
    >
      <mat-icon matListIcon>push_pin</mat-icon>
      <a matLine (click)="openDialog($event, todo)">{{todo.title}}</a>
    </mat-list-option>
  </mat-selection-list>
  
  <mat-selection-list #todo [(ngModel)]="selectedOptions" *ngIf="optionSelected == 'userId'">
    <mat-list-option *ngFor="let todo of arrayFiltered" [value]="todo" 
    (click)="setTodoBooleanOffline(todo)">
      <mat-icon matListIcon>push_pin</mat-icon>
      <a matLine (click)="openDialog($event, todo)">{{todo.title}}</a>
      <mat-divider></mat-divider> 
    </mat-list-option>
  </mat-selection-list>
</div>